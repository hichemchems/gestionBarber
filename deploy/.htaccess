# Configuration pour o2switch - Application Node.js ULTRA MINIMAL
PassengerEnabled On
PassengerAppRoot /home/dije1636/gestionBarber/deploy
PassengerAppType node
PassengerStartupFile dist/server-ultra-minimal.cjs
PassengerAppEnv production

# Redirections pour SPA
RewriteEngine On

# API routes - laisser passer vers l'application Node.js
RewriteCond %{REQUEST_URI} ^/api/ [OR]
RewriteCond %{REQUEST_URI} ^/health$
RewriteRule ^ - [L]

# Fichiers statiques existants - servir directement
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# Routes SPA - rediriger vers index.html
RewriteRule ^ index.html [QSA,L]
